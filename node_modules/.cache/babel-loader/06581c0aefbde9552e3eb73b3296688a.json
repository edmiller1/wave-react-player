{"ast":null,"code":"import _regeneratorRuntime from\"/Users/edwardmiller/Documents/React/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/edwardmiller/Documents/React/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/edwardmiller/Documents/React/react-player/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPlay,faAngleLeft,faAngleRight,faPause}from\"@fortawesome/free-solid-svg-icons\";var Player=function Player(_ref){var setSongs=_ref.setSongs,songs=_ref.songs,audioRef=_ref.audioRef,setCurrentSong=_ref.setCurrentSong,currentSong=_ref.currentSong,isPlaying=_ref.isPlaying,setIsPlaying=_ref.setIsPlaying,setSongInfo=_ref.setSongInfo,songInfo=_ref.songInfo;//Functions\nvar activeLibraryHandler=function activeLibraryHandler(nextPrev){setSongs(songs.map(function(state){return _objectSpread(_objectSpread({},state),{},{active:state.id===nextPrev.id});}));};var playSong=function playSong(){setIsPlaying(!isPlaying);if(isPlaying){audioRef.current.pause();}else{audioRef.current.play();}};var getTime=function getTime(time){return Math.floor(time/60)+\":\"+(\"0\"+Math.floor(time%60)).slice(-2);};var drag=function drag(e){audioRef.current.currentTime=e.target.value;setSongInfo(_objectSpread(_objectSpread({},songInfo),{},{currentTime:e.target.value}));};var skipTrack=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(direction){var currentIndex;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentIndex=songs.findIndex(function(song){return song.id===currentSong.id;});if(!(direction===\"skip-forward\")){_context.next=7;break;}_context.next=4;return setCurrentSong(songs[(currentIndex+1)%songs.length]);case 4:activeLibraryHandler(songs[(currentIndex+1)%songs.length]);_context.next=17;break;case 7:if(!(direction===\"skip-back\")){_context.next=17;break;}if(!((currentIndex-1)%songs.length===-1)){_context.next=14;break;}_context.next=11;return setCurrentSong(songs[songs.length-1]);case 11:activeLibraryHandler(songs[songs.length-1]);if(isPlaying)audioRef.current.play();return _context.abrupt(\"return\");case 14:_context.next=16;return setCurrentSong(songs[currentIndex-1]);case 16:activeLibraryHandler(songs[currentIndex-1]);case 17:if(isPlaying)audioRef.current.play();case 18:case\"end\":return _context.stop();}}},_callee);}));return function skipTrack(_x){return _ref2.apply(this,arguments);};}();var animationPercentage=Math.round(songInfo.currentTime/songInfo.duration*100);var trackAnim={transform:\"translateX(\".concat(animationPercentage,\"% )\")};return/*#__PURE__*/_jsxs(\"div\",{className:\"player\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-control\",children:[/*#__PURE__*/_jsx(\"p\",{children:getTime(songInfo.currentTime)}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(to right, \".concat(currentSong.color[0],\", \").concat(currentSong.color[1],\")\")},className:\"track\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:drag,min:0,max:songInfo.duration||0,value:songInfo.currentTime,type:\"range\"}),/*#__PURE__*/_jsx(\"div\",{style:trackAnim,className:\"animate-track\"})]}),/*#__PURE__*/_jsx(\"p\",{children:songInfo.duration?getTime(songInfo.duration):\"0:00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"play-control\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipTrack(\"skip-back\");},className:\"skip-back\",size:\"2x\",icon:faAngleLeft}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:playSong,className:\"play\",size:\"2x\",icon:isPlaying?faPause:faPlay}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipTrack(\"skip-forward\");},className:\"skip-forward\",size:\"2x\",icon:faAngleRight})]})]});};export default Player;","map":{"version":3,"sources":["/Users/edwardmiller/Documents/React/react-player/src/components/Player.js"],"names":["React","FontAwesomeIcon","faPlay","faAngleLeft","faAngleRight","faPause","Player","setSongs","songs","audioRef","setCurrentSong","currentSong","isPlaying","setIsPlaying","setSongInfo","songInfo","activeLibraryHandler","nextPrev","map","state","active","id","playSong","current","pause","play","getTime","time","Math","floor","slice","drag","e","currentTime","target","value","skipTrack","direction","currentIndex","findIndex","song","length","animationPercentage","round","duration","trackAnim","transform","background","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faPlay,\n  faAngleLeft,\n  faAngleRight,\n  faPause,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Player = ({\n  setSongs,\n  songs,\n  audioRef,\n  setCurrentSong,\n  currentSong,\n  isPlaying,\n  setIsPlaying,\n  setSongInfo,\n  songInfo,\n}) => {\n  //Functions\n  const activeLibraryHandler = (nextPrev) => {\n    setSongs(\n      songs.map((state) => {\n        return {\n          ...state,\n          active: state.id === nextPrev.id,\n        };\n      })\n    );\n  };\n\n  const playSong = () => {\n    setIsPlaying(!isPlaying);\n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n  };\n\n  const getTime = (time) => {\n    return (\n      Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\n    );\n  };\n\n  const drag = (e) => {\n    audioRef.current.currentTime = e.target.value;\n    setSongInfo({ ...songInfo, currentTime: e.target.value });\n  };\n\n  const skipTrack = async (direction) => {\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n    if (direction === \"skip-forward\") {\n      await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n      activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\n    } else if (direction === \"skip-back\") {\n      if ((currentIndex - 1) % songs.length === -1) {\n        await setCurrentSong(songs[songs.length - 1]);\n        activeLibraryHandler(songs[songs.length - 1]);\n        if (isPlaying) audioRef.current.play();\n        return;\n      }\n      await setCurrentSong(songs[currentIndex - 1]);\n      activeLibraryHandler(songs[currentIndex - 1]);\n    }\n    if (isPlaying) audioRef.current.play();\n  };\n\n  const animationPercentage = Math.round(\n    (songInfo.currentTime / songInfo.duration) * 100\n  );\n\n  const trackAnim = {\n    transform: `translateX(${animationPercentage}% )`,\n  };\n\n  return (\n    <div className=\"player\">\n      <div className=\"time-control\">\n        <p>{getTime(songInfo.currentTime)}</p>\n        <div\n          style={{\n            background: `linear-gradient(to right, ${currentSong.color[0]}, ${currentSong.color[1]})`,\n          }}\n          className=\"track\"\n        >\n          <input\n            onChange={drag}\n            min={0}\n            max={songInfo.duration || 0}\n            value={songInfo.currentTime}\n            type=\"range\"\n          />\n          <div style={trackAnim} className=\"animate-track\"></div>\n        </div>\n        <p>{songInfo.duration ? getTime(songInfo.duration) : \"0:00\"}</p>\n      </div>\n      <div className=\"play-control\">\n        <FontAwesomeIcon\n          onClick={() => skipTrack(\"skip-back\")}\n          className=\"skip-back\"\n          size=\"2x\"\n          icon={faAngleLeft}\n        />\n        <FontAwesomeIcon\n          onClick={playSong}\n          className=\"play\"\n          size=\"2x\"\n          icon={isPlaying ? faPause : faPlay}\n        />\n        <FontAwesomeIcon\n          onClick={() => skipTrack(\"skip-forward\")}\n          className=\"skip-forward\"\n          size=\"2x\"\n          icon={faAngleRight}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Player;\n"]},"metadata":{},"sourceType":"module"}